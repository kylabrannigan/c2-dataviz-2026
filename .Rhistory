blogdown:::preview_site()
library(tidyverse)
library(fs)
library(here)
# Find all Rmd files matching pattern w\d.Rmd
rmds <- dir_ls(here::here("static", "slides"),
regexp = "w\\d\\.Rmd") %>%
file_info() %>%
mutate(week = gsub(".+slides/(.+)\\..+", "\\1", path)) %>%
select(path, week)
# Find all HTML files
html <- dir_ls(here::here("static", "slides"),
regexp = "w\\d\\.html") %>%
file_info() %>%
mutate(week = gsub(".+slides/(.+)\\..+", "\\1", path),
modification_time = lubridate::round_date(modification_time,
unit = "minute")) %>%
select(path, week, modification_time)
# Find all PDF files
pdfs <- dir_ls(here::here("static", "slides"),
glob = "*.pdf") %>%
file_info() %>%
mutate(week = gsub(".+slides/(.+)\\..+", "\\1", path),
modification_time = lubridate::round_date(modification_time,
unit = "minute")) %>%
select(path, week, modification_time)
# Identify files that need to be converted
no_pdfs <- anti_join(rmds, pdfs, by = "week")
to_print <- anti_join(pdfs, html, by = c("week", "modification_time")) %>%
semi_join(rmds, ., by = "week") %>%
bind_rows(no_pdfs)
# Render and convert
purrr::walk(to_print$path, ~{
message("Rendering ", .x)
rmarkdown::render(.x)
# Get the HTML file path
html_file <- gsub("\\.Rmd$", ".html", .x)
message("Converting ", html_file, " to PDF")
pagedown::chrome_print(html_file)
})
library(here)
library(rmarkdown)
library(pagedown)
# Make sure required files exist in static/slides/
required_files <- c(
here::here("static", "slides", "load-feather.html"),
here::here("static", "slides", "new.css"),
here::here("static", "slides", "slide-setup.R")
)
missing <- required_files[!file.exists(required_files)]
if (length(missing) > 0) {
stop("Missing required files:\n", paste(missing, collapse = "\n"))
}
# Render the Rmd to HTML
message("Rendering w1.Rmd to HTML...")
rmarkdown::render(here::here("static", "slides", "w1.Rmd"))
# Convert HTML to PDF
message("Converting w1.html to PDF...")
pagedown::chrome_print(here::here("static", "slides", "w1.html"))
message("\nSuccess! PDF created at: static/slides/w1.pdf")
message("\nNext steps:")
message("1. Commit the PDF to your repo")
message("2. Push to GitHub")
message("3. The download link in your slides footer will work at:")
message("   https://github.com/maithgopalan/c2-dataviz-2026/raw/main/static/slides/w1.pdf")
rmarkdown::render("github_workflow_slides.Rmd", output_format = "beamer_presentation")
pagedown::chrome_print("github_workflow_slides.html")
cat("=== Rendering GitHub Workflow Slides ===\n\n")
pagedown::chrome_print("github_workflow_slides.html")
setwd("~/c2-dataviz-2026/static/slides")
pagedown::chrome_print("github_workflow_slides.html")
setwd("~/")
git clone https://github.com/maithgopalan/demo.git
git clone https://github.com/maithgopalan/demo.git
usethis::create_from_github("maithgopalan/demo")
setwd("~/")
usethis::create_from_github(https://github.com/maithgopalan/in-class-demo.git)
usethis::create_from_github("maithgopalan/in-class-demo)
usethis::create_from_github("maithgopalan/in-class-demo")
usethis::create_from_github("maithgopalan/in-class-demo")
usethis::git_sitrep()
